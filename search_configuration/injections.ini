; Injection configuration for O3 initial run

[workflow-injections]
; http://ligo-cbc.github.io/pycbc/releases/v1.2.0/html/workflow/injections.html
; The injection jobs will be run as part of the workflow
injections-method = IN_WORKFLOW
; DON'T Remove injections that are not in coincident data
;strip-injections =
compute-optimal-snr =
; DON'T Remove injections that have an optimal snr less than threshold
;inj-cut = 

;[strip_injections]

[optimal_snr]
snr-columns = ${hdfinjfind|optimal-snr-column}
f-low = ${inspiral|low-frequency-cutoff}
seg-length = ${inspiral|segment-length}
sample-rate = 16384
cores = 6

[inj_cut]
snr-columns = ${hdfinjfind|optimal-snr-column}
snr-threshold = 4.0

; Options common to many jobs
[sharedoptions]

; distance distributions settings are common to injection (inspinj) jobs
distance_dchirp = injections-bbhseobnrv4hm_inj,injections-bbhnrsur7dq4_inj,injections-bbhseobnrv4_inj

; inj-filter-rejector settings are common to inspiral jobs
injfilterrejector_aligned = inspiral-bbhseobnrv4hm_inj, inspiral-bbhseobnrv4_inj
injfilterrejector_precessing = inspiral-bbhnrsur7dq4_inj

[sharedoptions-distance_dchirp]
dchirp-distr = uniform
min-distance = 5000
; factor ~1.3 more than O2
max-distance = 400000

[sharedoptions-injfilterrejector_aligned]
injection-filter-rejector-chirp-time-window = 5

[sharedoptions-injfilterrejector_precessing]
injection-filter-rejector-chirp-time-window = 5

; These options go to all inspinj jobs
[injections]
i-distr = uniform
l-distr = random

time-interval = 25
time-step = 100

; BBH-like injections
[injections-bbhseobnrv4hm_inj]
m-distr = totalMassFraction
min-mtotal = 100
max-mtotal = 600
min-mratio = 1
max-mratio = 10

enable-spin =
aligned =
min-spin1 = 0
max-spin1 = 0.998
min-spin2 = 0
max-spin2 = 0.998

waveform = SEOBNRv4HMpseudoFourPN
taper-injection = start
seed = 123407
f-lower = 10

[workflow-injections-bbhseobnrv4hm_inj]

[injections-bbhnrsur7dq4_inj]
m-distr = totalMassFraction
min-mtotal = 110
max-mtotal = 600
min-mratio = 1
max-mratio = 4

enable-spin =
;aligned =
min-spin1 = 0
max-spin1 = 0.9
min-spin2 = 0
max-spin2 = 0.9

waveform = NRSur7dq4pseudoFourPN
taper-injection = start
seed = 124307
f-lower = 12

[workflow-injections-bbhnrsur7dq4_inj]

[injections-bbhseobnrv4_inj]
m-distr = totalMassFraction
min-mtotal = 100
max-mtotal = 600
min-mratio = 1
max-mratio = 10

enable-spin =
aligned =
min-spin1 = 0
max-spin1 = 0.998
min-spin2 = 0
max-spin2 = 0.998

waveform = SEOBNRv4_optpseudoFourPN
taper-injection = start
seed = 120437
f-lower = 10

[workflow-injections-bbhseobnrv4_inj]
